<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Required Meta Tags Always Come First -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Title -->

    <title>
        {% if title %}
        {{ title }} - {{session['empresa']}}
        {% else %}
        {{session['empresa']}}
        {% endif %}
    </title>


    <!-- Favicon -->
    <!-- <link rel="shortcut icon" href="/static/assets/img/favicon.ico"> -->

    <!-- Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <!-- <link href="/static/css2.css" rel="stylesheet"> -->

    <link rel="stylesheet" type="text/css" href="/static/custom.css">
    <!-- CSS Implementing Plugins -->
    <link rel="stylesheet" href="/static/assets/vendor/bootstrap-icons/font/bootstrap-icons.css">

    <link rel="stylesheet" href="/static/assets/vendor/daterangepicker/daterangepicker.css">
    <link rel="stylesheet" href="/static/assets/vendor/tom-select/dist/css/tom-select.bootstrap5.css">

    <link rel="stylesheet" href="/static/assets/vendor/datatables/media/css/jquery.dataTables.min.css">

    <link rel="stylesheet" href="/static/assets/vendor/flatpickr/dist/flatpickr.min.css">

    <!-- CSS Front Template -->
    <link rel="preload" href="/static/assets/css/client.css" as="style">
    <link rel="preload" href="/static/assets/css/theme.min.css" data-hs-appearance="default" as="style">
    <link rel="preload" href="/static/assets/css/theme-dark.min.css" data-hs-appearance="dark" as="style">

    <link rel="stylesheet" href="/static/assets/css/dropzone.min.css" type="text/css" />
    <style data-hs-appearance-onload-styles>
        * {
            transition: unset !important;
        }

        body {
            opacity: 0;
        }
    </style>

    <script src="/static/generalsestilo.js"></script>
    <script src="{{ url_for('static',  filename = 'assets/js/hs.theme-appearance.js') }}"></script>
    <script
        src="{{ url_for('static',  filename = 'assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside-mini-cache.js') }}"></script>
</head>

<body class="has-navbar-vertical-aside navbar-vertical-aside-show-xl footer-offset">





    <!-- ========== HEADER ========== -->

    <header id="header"
        class="navbar navbar-expand-lg navbar-fixed navbar-height navbar-container navbar-bordered bg-white">
        <div class="navbar-nav-wrap">

            <!-- End Logo -->

            <div class="navbar-nav-wrap-content-start">
                <!-- Navbar Vertical Toggle -->
                <button type="button" class="js-navbar-vertical-aside-toggle-invoker navbar-aside-toggler">
                    <i class="bi-arrow-bar-left navbar-toggler-short-align"
                        data-bs-template='<div class="tooltip d-none d-md-block" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
                        data-bs-toggle="tooltip" data-bs-placement="right" title="Collapse"></i>
                    <i class="bi-arrow-bar-right navbar-toggler-full-align"
                        data-bs-template='<div class="tooltip d-none d-md-block" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
                        data-bs-toggle="tooltip" data-bs-placement="right" title="Expand"></i>
                </button>

                <!-- End Navbar Vertical Toggle -->

                <!-- Search Form -->
                <div class="dropdown ms-2">
                    <div class="d-none d-lg-block">
                        <div
                            class="input-group input-group-merge input-group-borderless input-group-hover-light navbar-input-group">
                            <div class="input-group-prepend input-group-text">
                                <i class="bi-search"></i>
                            </div>

                            <!-- <input type="search" class="js-form-search form-control" placeholder="Buscador"
                                aria-label="Buscador" data-hs-form-search-options='{
                                   "clearIcon": "#clearSearchResultsIcon",
                                   "dropMenuElement": "#searchDropdownMenu",
                                   "dropMenuOffset": 20,
                                   "toggleIconOnFocus": true,
                                   "activeClass": "focus"
                                 }'> -->
                            <a class="input-group-append input-group-text" href="javascript:;">
                                <i id="clearSearchResultsIcon" class="bi-x-lg" style="display: none;"></i>
                            </a>
                        </div>
                    </div>

                    <button
                        class="js-form-search js-form-search-mobile-toggle btn btn-ghost-secondary btn-icon rounded-circle d-lg-none"
                        type="button" data-hs-form-search-options='{
                        "clearIcon": "#clearSearchResultsIcon",
                        "dropMenuElement": "#searchDropdownMenu",
                        "dropMenuOffset": 20,
                        "toggleIconOnFocus": true,
                        "activeClass": "focus"
                      }'>
                        <i class="bi-search"></i>
                    </button>

                    <!-- Card Search Content -->
                    <div id="searchDropdownMenu"
                        class="hs-form-search-menu-content dropdown-menu dropdown-menu-form-search navbar-dropdown-menu-borderless">
                        <div class="card">
                            <!-- Body -->
                            <div class="card-body-height">
                                <div class="d-lg-none">
                                    <div class="input-group input-group-merge navbar-input-group mb-5">
                                        <div class="input-group-prepend input-group-text">
                                            <i class="bi-search"></i>
                                        </div>

                                        <input type="search" class="form-control" placeholder="Search in front"
                                            aria-label="Search in front">
                                        <a class="input-group-append input-group-text" href="javascript:;">
                                            <i class="bi-x-lg"></i>
                                        </a>
                                    </div>
                                </div>

                                <span class="dropdown-header">Recent searches</span>

                                <div class="dropdown-item bg-transparent text-wrap">
                                    <a class="btn btn-soft-dark btn-xs rounded-pill" href="">
                                        Gulp <i class="bi-search ms-1"></i>
                                    </a>
                                    <a class="btn btn-soft-dark btn-xs rounded-pill" href="">
                                        Notification panel <i class="bi-search ms-1"></i>
                                    </a>
                                </div>

                                <div class="dropdown-divider"></div>

                                <span class="dropdown-header">Tutorials</span>

                                <a class="dropdown-item" href="">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0">
                                            <span class="icon icon-soft-dark icon-xs icon-circle">
                                                <i class="bi-sliders"></i>
                                            </span>
                                        </div>

                                        <div class="flex-grow-1 text-truncate ms-2">
                                            <span>How to set up Gulp?</span>
                                        </div>
                                    </div>
                                </a>

                                <a class="dropdown-item" href="">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0">
                                            <span class="icon icon-soft-dark icon-xs icon-circle">
                                                <i class="bi-paint-bucket"></i>
                                            </span>
                                        </div>

                                        <div class="flex-grow-1 text-truncate ms-2">
                                            <span>How to change theme color?</span>
                                        </div>
                                    </div>
                                </a>

                                <div class="dropdown-divider"></div>

                                <span class="dropdown-header">Members</span>

                                <a class="dropdown-item" href="">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0">

                                        </div>
                                        <div class="flex-grow-1 text-truncate ms-2">
                                            <span>Amanda Harvey <i class="tio-verified text-primary"
                                                    data-toggle="tooltip" data-placement="top"
                                                    title="Top endorsed"></i></span>
                                        </div>
                                    </div>
                                </a>

                                <a class="dropdown-item" href="">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0">

                                        </div>
                                        <div class="flex-grow-1 text-truncate ms-2">
                                            <span>David Harrison</span>
                                        </div>
                                    </div>
                                </a>

                                <a class="dropdown-item" href="">
                                    <div class="d-flex align-items-center">
                                        <div class="flex-shrink-0">
                                            <div class="avatar avatar-xs avatar-soft-info avatar-circle">
                                                <span class="avatar-initials">A</span>
                                            </div>
                                        </div>
                                        <div class="flex-grow-1 text-truncate ms-2">
                                            <span>Anne Richard</span>
                                        </div>
                                    </div>
                                </a>
                            </div>
                            <!-- End Body -->

                            <!-- Footer -->
                            <a class="card-footer text-center" href="">
                                See all results <i class="bi-chevron-right small"></i>
                            </a>
                            <!-- End Footer -->
                        </div>
                    </div>
                </div>

                <!-- End Search Form -->
            </div>

            <div class="navbar-nav-wrap-content-end">
                <!-- Navbar -->
                <ul class="navbar-nav">
                    <li class="nav-item d-none d-sm-inline-block">
                        <!-- Notification -->
                        <!-- End Notification -->
                    </li>

                    <li class="nav-item">
                        <!-- Account -->
                        <div class="dropdown">
                            <a class="navbar-dropdown-account-wrapper" href="javascript:;" id="accountNavbarDropdown"
                                data-bs-toggle="dropdown" aria-expanded="false" data-bs-auto-close="outside"
                                data-bs-dropdown-animation>
                                <div class="avatar avatar-sm avatar-circle avatar-soft-primary">
                                    <span class="avatar-initials">{{session['iniciales']}}</span>
                                    <span class="avatar-status avatar-sm-status avatar-status-success"></span>
                                </div>
                            </a>

                            <div class="dropdown-menu dropdown-menu-end navbar-dropdown-menu navbar-dropdown-menu-borderless navbar-dropdown-account"
                                aria-labelledby="accountNavbarDropdown" style="width: 16rem;">

                                <div class="dropdown-item-text">
                                    <div class="d-flex align-items-center">

                                        <div class="flex-grow-1">
                                            <h5 class="mb-0">{{g.user.nombre}} {{g.user.apellido}}</h5>
                                            <p class="card-text text-body">{{g.user.correo}}</p>
                                        </div>
                                    </div>
                                </div>

                                <!-- <a class="dropdown-item" href="{{url_for('usuario.usuario_password')}}">Cambiar
                                    Contrasena</a> -->


                                <div class="dropdown-divider"></div>

                                <a class="dropdown-item" href="{{ url_for('logout' ) }}">Cerrar Sesión</a>
                            </div>
                        </div>
                        <!-- End Account -->
                    </li>
                </ul>
                <!-- End Navbar -->
            </div>
        </div>
    </header>

    <!-- ========== END HEADER ========== -->

    <!-- ========== MAIN CONTENT ========== -->

    <!-- Navbar Vertical -->

    <aside
        class="js-navbar-vertical-aside navbar navbar-vertical-aside navbar-vertical navbar-vertical-fixed navbar-expand-xl navbar-bordered bg-white  ">
        <div class="navbar-vertical-container">
            <div class="navbar-vertical-footer-offset">
                <!-- Logo -->
                <a class="navbar-brand justify-content-center" href="{{ url_for('dashboard.dashboard_home') }}" aria-label="Front">
                    <img class="navbar-brand-logo" src="/static/assets/img/logohome.png" id="logo_horizontal" alt="Logo"
                        data-hs-theme-appearance="default">
                    <img class="navbar-brand-logo" src="/static/assets/img/logohome-dark.png" alt="Logo"
                        data-hs-theme-appearance="dark">
                    <img class="navbar-brand-logo-mini" src="/static/assets/img/logomini.png" alt="Logo"
                        data-hs-theme-appearance="default">
                    <img class="navbar-brand-logo-mini" src="/static/assets/img/logomini-dark.png" alt="Logo"
                        data-hs-theme-appearance="dark">
                </a>

                <!-- End Logo -->

                <!-- Navbar Vertical Toggle -->
                <button type="button" class="js-navbar-vertical-aside-toggle-invoker navbar-aside-toggler">
                    <i class="bi-arrow-bar-left navbar-toggler-short-align"
                        data-bs-template='<div class="tooltip d-none d-md-block" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
                        data-bs-toggle="tooltip" data-bs-placement="right" title="Collapse"></i>
                    <i class="bi-arrow-bar-right navbar-toggler-full-align"
                        data-bs-template='<div class="tooltip d-none d-md-block" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>'
                        data-bs-toggle="tooltip" data-bs-placement="right" title="Expand"></i>
                </button>

                <!-- End Navbar Vertical Toggle -->

                <!-- Content -->


                <div class="navbar-vertical-content">
                    <div id="navbarVerticalMenu" class="nav nav-pills nav-vertical card-navbar-nav">
                        <!-- Collapse -->
                        <div class="nav-item">
                            {{ session['menu']|safe }}

                        </div>
                    </div>
                    <!-- End Content -->

                    <!-- Footer -->
                    <div class="navbar-vertical-footer">
                        <div class="form-check form-switch form-switch-dark form-switch-darkmode-with-icons">
                            <input class="form-check-input me-0" type="checkbox" id="darkSwitch">
                        </div>
                    </div>
                    <!-- End Footer -->
                </div>
            </div>
    </aside>

    <!-- End Navbar Vertical -->
    <!-- Content -->
    <main id="content" role="main" class="main">
        <!-- Content -->
        <div class="content container-fluid">
            {% block button %}
            {% endblock %}

            {% with messages = get_flashed_messages(with_categories = True) %}
            {% if messages %}
            {% for category, message in messages %}
            <input class="flash_msn" type="hidden" value="{{ message }}" tipo="{{ category}}" />
            {% endfor %}
            {% endif %}
            {% endwith %}

            <div>
                {% block content %}
                {% endblock %}
            </div>
            <div aria-live="polite" aria-atomic="true" class="position-relative">
                <!-- Position it: -->
                <!-- - `.toast-container` for spacing between toasts -->
                <!-- - `.position-absolute`, `top-0` & `end-0` to position the toasts in the upper right corner -->
                <!-- - `.p-3` to prevent the toasts from sticking to the edge of the container  -->
                <div class="toast-container position-absolute top-0 end-0 p-3" id="notifyContainer">
                    {% include 'toast.html' %}
                </div>

                <div id="liveToast" class="position-fixed toast hide" data-bs-delay="3000" role="alert"
                    aria-live="assertive" aria-atomic="true" style="top: 20px; right: 20px; z-index: 1000;">
                    <div class="toast-header">
                        <div class="d-flex align-items-center flex-grow-1">
                            <div class="flex-shrink-0">

                            </div>
                            <div class="flex-grow-1 ms-3">
                                <h5 class="mb-0" id="alerta_titulo"></h5>

                            </div>
                            <div class="text-end">
                                <button type="button" class="btn-close" data-bs-dismiss="toast"
                                    aria-label="Close"></button>
                            </div>
                        </div>
                    </div>
                    <div class="toast-body" id="alerta_body">

                    </div>
                </div>

            </div>
            <!-- End Content -->

            <!-- Footer -->

            <div class="footer">

                <!-- End Row -->
            </div>

            <!-- End Footer -->
    </main>

    <!-- Modal -->
    <div class="modal fade" id="confirmarBorrado" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header bg-danger p-4">
                    <input type="hidden" id="confirmarBorradoID">
                    <input type="hidden" id="confirmarBorradoObjeto">
                    <input type="hidden" id="confirmarBorradoTabla">
                    <input type="hidden" id="confirmarBorradoRow">

                    <h5 class="modal-title text-white" id="exampleModalLabel">Confirmar</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <span>¿Desea eliminar el registro: <b class="text-danger" id="confirmarBorradoNombre"></b>?</span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger btn-sm" onclick="borrarRegistro(this);">
                        <span class="spinner-border spinner-border-sm cargando" role="status" aria-hidden="true"></span>
                        Eliminar</button>

                </div>
            </div>
        </div>
    </div>
    <!-- ========== END MAIN CONTENT ========== -->

    <!-- ========== SECONDARY CONTENTS ========== -->

    <!-- ========== END SECONDARY CONTENTS ========== -->
    <!--JqueryUI-->
    <link rel="stylesheet" type="text/css" href="/static/assets/vendor/jquery/dist/jquery-ui.min.css">
    <link rel="stylesheet" type="text/css" href="/static/assets/vendor/jquery/dist/jquery-ui.structure.min.css">
    <link rel="stylesheet" type="text/css" href="/static/assets/vendor/jquery/dist/jquery-ui.theme.min.css">

    <!-- JS Global Compulsory  -->
    <script src="/static/assets/vendor/jquery/dist/jquery.min.js"></script>
    <script src="/static/assets/vendor/jquery/dist/jquery-ui.min.js"></script>
    <script src="/static/assets/vendor/jquery-migrate/dist/jquery-migrate.min.js"></script>
    <script src="/static/assets/vendor/bootstrap/dist/js/bootstrap.bundle.min.js"></script>

    <!-- JS Implementing Plugins -->
    <script src="/static/assets/vendor/hs-toggle-password/dist/js/hs-toggle-password.js"></script>
    <script src="/static/assets/vendor/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="/static/assets/vendor/hs-navbar-vertical-aside/dist/hs-navbar-vertical-aside.min.js"></script>
    <script src="/static/assets/vendor/hs-form-search/dist/hs-form-search.min.js"></script>

    <script src="/static/assets/vendor/hs-nav-scroller/dist/hs-nav-scroller.min.js"></script>

    <script src="/static/assets/vendor/daterangepicker/moment.min.js"></script>

    <script src="/static/assets/vendor/daterangepicker/daterangepicker.js"></script>
    <script src="/static/assets/vendor/tom-select/dist/js/tom-select.complete.min.js"></script>
    <script src="/static/assets/vendor/clipboard/dist/clipboard.min.js"></script>
    <script src="/static/assets/vendor/datatables/media/js/jquery.dataTables.min.js"></script>
    <script src="/static/assets/vendor/datatables.net.extensions/select/select.min.js"></script>

    <script src="/static/assets/vendor/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
    <script src="/static/assets/vendor/datatables.net-buttons/js/buttons.flash.min.js"></script>
    <script src="/static/assets/vendor/jszip/dist/jszip.min.js"></script>
    <script src="/static/assets/vendor/pdfmake/build/pdfmake.min.js"></script>
    <script src="/static/assets/vendor/pdfmake/build/vfs_fonts.js"></script>
    <script src="/static/assets/vendor/datatables.net-buttons/js/buttons.html5.min.js"></script>
    <script src="/static/assets/vendor/datatables.net-buttons/js/buttons.print.min.js"></script>
    <script src="/static/assets/vendor/datatables.net-buttons/js/buttons.colVis.min.js"></script>


    <script src="/static/assets/vendor/flatpickr/dist/flatpickr.min.js"></script>

    <script src="/static/assets/vendor/chart.js/dist/chart.min.js"></script>


    <script src="/static/assets/js/theme.min.js"></script>
    <script src="/static/assets/js/hs.theme-appearance-charts.js"></script>
    <script src="/static/assets/vendor/datatables.net.extensions/select/select.min.js"></script>
    <script src="/static/assets/vendor/hs-toggle-password/dist/js/hs-toggle-password.js"></script>
    <script src="/static/assets/vendor/dropzone/dist/min/dropzone.min.js"></script>
    <script src="/static/validaciones.js"></script>
    <script src="/static/generals.js"></script>


    <!-- use version 0.20.0 -->
    <script lang="javascript" src="https://cdn.sheetjs.com/xlsx-0.20.0/package/dist/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/exceljs/4.3.0/exceljs.min.js"
        integrity="sha512-UnrKxsCMN9hFk7M56t4I4ckB4N/2HHi0w/7+B/1JsXIX3DmyBcsGpT3/BsuZMZf+6mAr0vP81syWtfynHJ69JA=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
        //Hace funcionar y aparecer el boton para esconder el sidebar
        (function () {


            $(".flash_msn").each(function () {
                //alert($(this).val());
                var titulo = 'Aviso';
                var tipo = $(this).attr('tipo');
                if (tipo == 'danger')
                    titulo = 'Error';
                alerta(titulo, $(this).val(), $(this).attr('tipo'));

            });


            new HSTogglePassword('.js-toggle-password');


            localStorage.removeItem('hs_theme')

            window.onload = function () {

                new HSSideNav('.js-navbar-vertical-aside').init()
            }
        })();
    </script>



    <!-- JS Plugins Init. -->
    <script>
        (function () {
            window.onload = function () {

                //HSCore.components.HSTomSelect.init('.js-select')
                // INITIALIZATION OF NAVBAR VERTICAL ASIDE
                // =======================================================
                new HSSideNav('.js-navbar-vertical-aside').init()

                // INITIALIZATION OF NAV SCROLLER
                // =======================================================
                new HsNavScroller('.js-nav-scroller', {
                    delay: 400
                })

                // INITIALIZATION OF FORM SEARCH
                // =======================================================
                new HSFormSearch('.js-form-search')

                // INITIALIZATION OF BOOTSTRAP DROPDOWN
                // =======================================================
                HSBsDropdown.init()


                // INITIALIZATION OF SELECT
                // =======================================================
                HSCore.components.HSTomSelect.init('.js-select')


            }
        })()
    </script>


    <script>
        // SWITHCER THEME APPEARANCE
        // =======================================================
        const $swithcer = document.querySelector('#darkSwitch')

        if (HSThemeAppearance.getOriginalAppearance() === 'dark') {
            $swithcer.checked = true
        }

        $swithcer.addEventListener('change', e => {
            HSThemeAppearance.setAppearance(e.target.checked ? 'dark' : 'default')
        })
    </script>
    {% block script %}

    {% endblock %}

</body>

</html>